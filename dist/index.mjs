var r=require("fs-extra"),o=require("fs"),t=require("path"),n=require("./package.json").name,e=function(r){return o.statSync(r).isDirectory()},i=function(r){return function(n){return o.readdirSync(r).reduce(function(o,a){var u=t.join(r,"/",a);return e(u)?o.concat(i(t.join(r,"/",a))(n)):n.test(u)&&o.push(u),o},[])}},a=function(r){this.options=r};a.prototype.apply=function(o){var a=this;o.hooks.done.tap("CopyNoLoopPlugin",function(){var o=a.options,u=o.list,c=o.root;if(Array.isArray(u)){var f=u.slice();if(c){if(!t.isAbsolute(c))throw new Error("["+n+"]: root needs to be an absolute path!");f=f.map(function(r){return Object.assign({},r,{from:t.resolve(c,r.from),to:t.resolve(c,r.to)})})}f.forEach(function(o){var n=o.from,a=o.to,u=o.filter;void 0===u&&(u=function(){return!0});var c=o.pattern,f=o.flatten;(void 0===f&&(f=!1),e(n)&&c)?i(n)(c).forEach(function(o){var e,i,c=(e=n,i=a,function(r,o){void 0===o&&(o=!1);var n=o?t.basename(r):t.relative(e,r);return t.join(i,"/",n)})(o,f);r.copySync(o,c,{filter:u})}):r.copySync(n,a,{filter:u})})}})},module.exports=a;
//# sourceMappingURL=index.mjs.map
